<div plex-include="'partials/Pacientes/iHeader.html'" plex-include-internacion="internacion"></div>

<md-tabs md-dynamic-height md-border-bottom md-selected="tab">
    <md-tab label="Resúmen internación">
        Hola
    </md-tab>
    <md-tab label="Internación">
    </md-tab>
    <md-tab label="Evoluciones">
        <div plex-include="'partials/internacion/iEvolucionar.html'" plex-include-internacion="internacion"></div>
    </md-tab>
    <md-tab label="Antecedentes">
        <div layout layout-pretty whiteframe>
            <div flex>
                <h3 class="md-headline">Antecedentes</h3>
                <md-table-container ng-if="antecedentesPersonales && antecedentesPersonales.length > 0">
                    <table md-table class="mdTableSingleSelect">
                        <thead md-head>
                            <tr md-row>
                                <th md-column>Tipo</th>
                                <th md-column>Observaciones</th>
                            </tr>
                        </thead>
                        <tbody md-body>
                            <tr md-row ng-repeat="item in antecedentesPersonales">
                                {{item || json}}
                                <td md-cell>
                                    {{item.antecedente.nombre}}
                                </td>
                                <td md-cell>
                                    {{item.observaciones}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </md-table-container>
            </div>
        </div>

    </md-tab>
    <md-tab label="Pases">
        <div layout layout-pretty whiteframe>
            <div flex>
                <h3 class="md-headline">Pases</h3>
                <md-table-container ng-if="internacion.pases && internacion.pases.length > 0">
                    <table md-table md-row-select class="mdTableSingleSelect">
                        <thead md-head>
                            <tr md-row>
                                <th md-column>Fecha</th>
                                <th md-column>Cama</th>
                                <th md-column>Servicio</th>
                                <th md-column>Resumen internación</th>
                                <th md-column></th>
                            </tr>
                        </thead>
                        <tbody md-body>
                            <tr md-row ng-repeat="item in internacion.pases | orderBy: '-fechaHora'">
                                <td md-cell>
                                    {{item.fechaHora | fromNow }}<br/>
                                    <div class="text-muted small">
                                        {{item.fechaHora | date: "dd/MM/yyyy HH:mm"}}
                                    </div>
                                </td>
                                <td md-cell>
                                    {{item.cama.habitacion}}/{{item.cama.numero}}
                                </td>
                                <td md-cell>
                                    {{item.servicio.nombreCorto}}
                                </td>
                                <td md-cell>

                                </td>

                                <td md-cell>
                                    <md-button class="md-icon-button" aria-label="Editar pase" ng-click="editarPase(item)">
                                        <md-icon>create</md-icon>
                                    </md-button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </md-table-container>
            </div>
        </div>

    </md-tab>
    <md-tab label="Egreso">
        <div layout layout-pretty whiteframe ng-if="internacion.egreso">
            <div flex>
                <h3 class="md-headline">Egreso</h3>
                <md-table-container ng-if="internacion.egreso">
                    <table md-table md-row-select class="mdTableSingleSelect">
                        <thead md-head>
                            <tr md-row>
                                <th md-column>Fecha</th>
                                <th md-column>Cama</th>
                                <th md-column>Servicio</th>
                                <th md-column>Tipo</th>
                                <th md-column>Resumen</th>
                            </tr>
                        </thead>
                        <tbody md-body>
                            <tr md-row >
                                <td md-cell>
                                    {{internacion.egreso.fechaHora | fromNow }}<br/>
                                    <div class="text-muted small">
                                        {{internacion.egreso.fechaHora | date: "dd/MM/yyyy HH:mm"}}
                                    </div>
                                </td>
                                <td md-cell>
                                    {{internacion.egreso.cama.habitacion}}/{{internacion.egreso.cama.numero}}
                                </td>
                                <td md-cell>
                                    {{item.servicio.nombreCorto}}
                                </td>
                                <td md-cell>
                                    {{internacion.egreso.tipo}}
                                </td>
                                <td md-cell>
                                </td>

                            </tr>
                        </tbody>
                    </table>
                </md-table-container>
            </div>
        </div>
    </md-tab>
</md-tabs>
