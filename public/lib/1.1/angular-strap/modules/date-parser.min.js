/**
 * angular-strap
 * @version v2.3.2 - 2015-09-15
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function n(){this.year=1970;this.month=0;this.day=1;this.hours=0;this.minutes=0;this.seconds=0;this.milliseconds=0}function i(){}function r(n){return!isNaN(parseFloat(n))&&isFinite(n)}function u(n,t){for(var r=n.length,u=t.toString().toLowerCase(),i=0;i<r;i++)if(n[i].toLowerCase()===u)return i;return-1}var t,f;n.prototype.setMilliseconds=function(n){this.milliseconds=n};n.prototype.setSeconds=function(n){this.seconds=n};n.prototype.setMinutes=function(n){this.minutes=n};n.prototype.setHours=function(n){this.hours=n};n.prototype.getHours=function(){return this.hours};n.prototype.setDate=function(n){this.day=n};n.prototype.setMonth=function(n){this.month=n};n.prototype.setFullYear=function(n){this.year=n};n.prototype.fromDate=function(n){return this.year=n.getFullYear(),this.month=n.getMonth(),this.day=n.getDate(),this.hours=n.getHours(),this.minutes=n.getMinutes(),this.seconds=n.getSeconds(),this.milliseconds=n.getMilliseconds(),this};n.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};t=n.prototype;f=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(e,o){return function(s){function p(n){for(var i=Object.keys(l),r=[],u=[],e=n,f,t=0;t<i.length;t++)n.split(i[t]).length>1&&(f=e.search(i[t]),n=n.split(i[t]).join(""),l[i[t]]&&(r[f]=l[i[t]]));return angular.forEach(r,function(n){n&&u.push(n)}),u}function b(n){return n.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function w(n){for(var r=Object.keys(v),i=n,t=0;t<r.length;t++)i=i.split(r[t]).join("${"+t+"}");for(t=0;t<r.length;t++)i=i.split("${"+t+"}").join("("+v[r[t]]+")");return n=b(n),new RegExp("^"+i+"$",["i"])}var c=angular.extend({},f,s),h={},v={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:c.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:e.DATETIME_FORMATS.DAY.join("|"),EEE:e.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:c.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:e.DATETIME_FORMATS.MONTH.join("|"),MMM:e.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:c.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},l={sss:t.setMilliseconds,ss:t.setSeconds,s:t.setSeconds,mm:t.setMinutes,m:t.setMinutes,HH:t.setHours,H:t.setHours,hh:t.setHours,h:t.setHours,EEEE:i,EEE:i,dd:t.setDate,d:t.setDate,a:function(n){var t=this.getHours()%12;return this.setHours(n.match(/pm/i)?t+12:t)},MMMM:function(n){return this.setMonth(u(e.DATETIME_FORMATS.MONTH,n))},MMM:function(n){return this.setMonth(u(e.DATETIME_FORMATS.SHORTMONTH,n))},MM:function(n){return this.setMonth(1*n-1)},M:function(n){return this.setMonth(1*n-1)},yyyy:t.setFullYear,yy:function(n){return this.setFullYear(2e3+1*n)},y:function(n){return 1*n<=50&&n.length===2?this.setFullYear(2e3+1*n):this.setFullYear(1*n)}},a,y;return h.init=function(){h.$format=e.DATETIME_FORMATS[c.format]||c.format;a=w(h.$format);y=p(h.$format)},h.isValid=function(n){return angular.isDate(n)?!isNaN(n.getTime()):a.test(n)},h.parse=function(t,i,r,u){var s,f,l;r&&(r=e.DATETIME_FORMATS[r]||r);angular.isDate(t)&&(t=o(t,r||h.$format,u));var b=r?w(r):a,v=r?p(r):y,c=b.exec(t);if(!c)return!1;for(s=i&&!isNaN(i.getTime())?(new n).fromDate(i):(new n).fromDate(new Date(1970,0,1,0)),f=0;f<c.length-1;f++)v[f]&&v[f].call(s,c[f+1]);return(l=s.toDate(),parseInt(s.day,10)!==l.getDate())?!1:l},h.getDateForAttribute=function(n,t){var u,i;return t==="today"?(i=new Date,u=new Date(i.getFullYear(),i.getMonth(),i.getDate()+(n==="maxDate"?1:0),0,0,0,n==="minDate"?0:-1)):u=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):r(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?n==="minDate"?-Infinity:+Infinity:new Date(t),u},h.getTimeForAttribute=function(n,t){return t==="now"?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):r(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?n==="minTime"?-Infinity:+Infinity:h.parse(t,new Date(1970,0,1,0))},h.daylightSavingAdjust=function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},h.timezoneOffsetAdjust=function(n,t,i){return n?(t&&t==="UTC"&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+(i?-1:1)*n.getTimezoneOffset())),n):null},h.init(),h}}]}]);
//# sourceMappingURL=date-parser.min.js.map
