<div plex-include="'partials/Pacientes/iHeader.html'" plex-include-internacion="internacion"></div>

<div plex-include="'partials/internacion/iEvolucionar.html'" plex-include-internacion="internacion"></div>

<div layout layout-padding layout-pretty>
    <div flex>
        <!-- ****************************** Antecedentes clínicos ****************************** -->
        <div class="row">
            <div class="col-sm-12">
                <fieldset>
                    <legend>Antecedentes clínicos</legend>
                </fieldset>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <input type=text label="HTA" ng-model="internacion.antecedentes.hta" plex />
            </div>
            <div class="col-sm-3">
                <input type=text label="DBT" ng-model="internacion.antecedentes.diabetes" plex />
            </div>
            <div class="col-sm-3">
                <input type=text label="Alergias" ng-model="internacion.antecedentes.alergias" plex />
            </div>
            <div class="col-sm-3">
                <input type=text label="Otros" plex />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <input type=text label="Medicación Habitual" plex />
            </div>
        </div>
        <br />
        <!-- ****************************** Antecedentes Obstétricos ****************************** -->
        <div class="row">
            <div class="col-sm-12">
                <fieldset>
                    <legend>Antecedentes obstétricos (si corresponde)</legend>
                </fieldset>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <input type=text label="Gestas" ng-model="internacion.antecedentes.obstetricos.gestas" plex />
            </div>
            <div class="col-sm-3">
                <input type=text label="Partos" ng-model="internacion.antecedentes.obstetricos.partos" plex />
            </div>
            <div class="col-sm-3">
                <input type=text label="Cesáreas" ng-model="internacion.antecedentes.obstetricos.cesareas" plex />
            </div>
            <div class="col-sm-3">
                <input type=text label="Abortos" ng-model="internacion.antecedentes.obstetricos.abortos" plex />
            </div>
        </div>
        <br />
        <!-- ****************************** Antecedentes quirúrgicos y/o traumatológicos ****************************** -->
        <div class="row">
            <div class="col-sm-12">
                <fieldset>
                    <legend>Antecedentes Quirúrgicos y/o Traumatológicos</legend>
                </fieldset>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <input type=text ng-model="internacion.antecedentes.quirurgicos" plex />
            </div>
        </div>
        <br /><br />
    </div>
</div>


<div class="box box-primary">
    <div class="box-header">
        <h3 class="box-title">Pases</h3>
    </div>

    <div class="box-body ">
        <table ng-if="internacion.pases && internacion.pases.length > 0" class="table table-bordered table-hover ">
            <thead>
                <tr>
                    <th>
                        Cama
                    </th>
                    <th>
                        Fecha
                    </th>
                    <th>
                        Servicio
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in internacion.pases | orderBy: '-fechaHora'">
                    <td>
                        {{item.cama.habitacion}}/{{item.cama.numero}}
                    </td>
                    <td>
                        {{item.fechaHora | fromNow }}<br/>
                        <div class="text-muted small">
                            {{item.fechaHora | date: "dd/MM/yyyy HH:mm"}}
                        </div>
                    </td>
                    <td class="text-right">
                        {{item.servicio.nombreCorto}}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="box box-primary" ng-if="internacion.egreso">
    <div class="box-header">
        <h3 class="box-title">Egreso</h3>
    </div>

    <div class="box-body ">
        <table class="table table-bordered table-hover ">
            <thead>
                <tr>
                    <th>
                        Fecha
                    </th>
                    <th>
                        Cama
                    </th>
                    <th>
                        Tipo
                    </th>
                    <th>
                        Descripcion
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        {{internacion.egreso.fechaHora | fromNow }}<br/>
                        <div class="text-muted small">
                            {{internacion.egreso.fechaHora | date: "dd/MM/yyyy HH:mm"}}
                        </div>
                    </td>
                    <td>
                        {{internacion.egreso.cama.habitacion}}/{{internacion.egreso.cama.numero}}
                    </td>
                    <td>
                        {{internacion.egreso.tipo}}
                    </td>
                    <td class="text-right">
                        {{internacion.egreso.descripcion}}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
